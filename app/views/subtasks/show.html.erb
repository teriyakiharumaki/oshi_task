<% breadcrumb :subtask, @subtask %>
<div class="container mx-auto flex flex-col lg:flex-row px-5 py-24 items-start justify-center gap-8">
  <div class="bg-white shadow-md p-6 rounded-lg max-w-2xl w-full">
    <div class="flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 border-b border-black pb-2 space-y-4 sm:space-y-0">
      <h1 class="text-2xl sm:text-4xl font-bold text-center sm:text-left">
        サブタスク詳細
      </h1>
      <div class="flex flex-wrap justify-center sm:justify-end space-x-2 sm:space-x-4 text-lg">
        <%= button_to "編集", edit_task_subtask_path(@task, @subtask), method: :get, class: 'text-indigo-500 hover:underline py-2 px-4 rounded border border-indigo-500' %>
        <%= button_to "削除", task_subtask_path(@task, @subtask), method: :delete, data: { turbo_confirm: "削除しますか?" }, class: 'text-red-500 hover:underline py-2 px-4 rounded border border-red-500' %>
        <% if @subtask.done %>
          <%= button_to "未完了", done_task_subtask_path(@task, @subtask), method: :post, class: 'bg-gray-500 text-white hover:bg-gray-600 py-2 px-4 rounded' %>
        <% else %>
          <%= button_to "完了", done_task_subtask_path(@task, @subtask), method: :post, class: 'bg-green-500 text-white hover:bg-green-600 py-2 px-4 rounded' %>
        <% end %>
      </div>
    </div>
    <p class="text-gray-700 text-4xl mb-4"><%= @subtask.title %></p>
    <% if @subtask.body.present? %>
      <p class="text-gray-700 text-2xl mb-2">メモ</p>
      <div class="border border-gray-300 pb-2 mb-6">
        <p class="text-gray-700 text-2xl mb-6"><%= @subtask.body %></p>
      </div>
    <% end %>
    <div class="text-gray-700 text-center pr-4">
      <%= link_to "タスク詳細に戻る", task_path(@task), class: 'text-gray-700 decoration-2 underline-offset-4 transition-colors hover:underline' %>
    </div>
  </div>
  <div class="w-full max-w-2xl mx-auto">
    <%= render 'third_tasks/index', subtask: @subtask, third_tasks: @third_tasks, completed_third_tasks: @completed_third_tasks %>
  </div>
</div>
