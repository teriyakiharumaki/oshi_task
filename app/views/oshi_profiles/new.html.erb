<% breadcrumb :new_oshi_profile %>
<div class="container mx-auto flex px-5 py-24 items-center justify-center flex-col">
  <div class="bg-white shadow-md p-6 rounded-lg max-w-5xl w-full lg:w-2/3">
    <h1 class="text-4xl font-bold mb-6 text-center">推しプロフィール設定</h1>
    <%= form_with(model: @oshi_profile, url: oshi_profile_path, local: true, html: { id: 'newOshiProfileForm' }) do |form| %>
      <div class="relative mb-8 flex justify-center">
        <div class="w-full lg:w-3/4">
          <%= form.label :name, '推しの名前', class: 'leading-7 text-sm text-gray-600 mt-4' %>
          <%= form.text_field :name, class: 'w-full bg-gray-100 rounded border border-gray-300 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 text-base outline-none text-gray-700 py-2 px-4 leading-8 transition-colors duration-200 ease-in-out' %>
          <% if @oshi_profile.errors[:name].any? %>
            <div class="text-red-500 text-sm mt-2">
              <%= @oshi_profile.errors[:name].first %>
            </div>
          <% end %>
        </div>
      </div>
      <div class="relative mb-8 flex justify-center">
        <div class="w-full lg:w-3/4">
          <%= form.label :personality, '推しの性格', class: 'leading-7 text-sm text-gray-600 mt-4' %>
          <%= form.select :personality, 
            [['ツンデレ', 'ツンデレ'], ['真面目', '真面目'], ['不真面目', '不真面目'], ['熱血', '熱血'], ['クール', 'クール'], ['強気', '強気'], ['弱気', '弱気'], ['楽観的', '楽観的'], ['悲観的', '悲観的'], ['温和', '温和'], ['粗暴', '粗暴'], ['優しい', '優しい'], ['高飛車', '高飛車'], ['低姿勢', '低姿勢']], 
            { prompt: '選択してください' }, 
            class: 'w-full bg-gray-100 rounded border border-gray-300 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 text-base outline-none text-gray-700 py-2 px-4 leading-8 transition-colors duration-200 ease-in-out' %>
        </div>
      </div>
      <div class="relative mb-8 flex justify-center">
        <div class="w-full lg:w-3/4">
          <%= form.label :generation, '推しの年齢', class: 'leading-7 text-sm text-gray-600 mt-4' %>
          <%= form.select :generation, 
            [['子供', '子供'], ['大人', '大人'], ['赤ちゃん', '赤ちゃん'], ['小学生', '小学生'], ['中学生', '中学生'], ['高校生', '高校生'], ['大学生', '大学生'], ['10代', '10代'], ['20代', '20代'], ['30代', '30代'], ['40代', '40代'], ['50代', '50代'], ['60代以上', '60代以上']], 
            { prompt: '選択してください' }, 
            class: 'w-full bg-gray-100 rounded border border-gray-300 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 text-base outline-none text-gray-700 py-2 px-4 leading-8 transition-colors duration-200 ease-in-out' %>
        </div>
      </div>
      <div class="relative mb-8 flex justify-center">
        <div class="w-full lg:w-3/4">
          <%= form.label :gender, '推しの性別', class: 'leading-7 text-sm text-gray-600 mt-4' %>
          <%= form.select :gender, 
            [['男性', '男性'], ['女性', '女性'], ['なし', 'なし']], 
            { prompt: '選択してください' }, 
            class: 'w-full bg-gray-100 rounded border border-gray-300 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 text-base outline-none text-gray-700 py-2 px-4 leading-8 transition-colors duration-200 ease-in-out' %>
          </div>
      </div>
      <div class="relative mb-8 flex justify-center">
        <div class="w-full lg:w-3/4">
          <%= form.label :pronoun, '推しの一人称', class: 'leading-7 text-sm text-gray-600 mt-4' %>
          <%= form.select :pronoun, 
            [['私', '私'], ['僕', '僕'], ['俺', '俺'], ['自分', '自分'], ['俺様', '俺様'], ['わし', 'わし'], ['あたい', 'あたい'], ['あーし', 'あーし'], ['わい', 'わい'], ['うち', 'うち'], ['おいどん', 'おいどん'], ['拙者', '拙者'], ['わらわ', 'わらわ'], ['吾輩', '吾輩']], 
            { prompt: '選択してください' }, 
            class: 'w-full bg-gray-100 rounded border border-gray-300 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 text-base outline-none text-gray-700 py-2 px-4 leading-8 transition-colors duration-200 ease-in-out' %>
        </div>
      </div>
      <div class="relative mb-8 flex justify-center">
        <div class="w-full lg:w-3/4">
          <%= form.label :avatar, '推し画像', class: 'leading-7 text-sm text-gray-600 mt-4' %>
          <%= form.file_field :avatar, class: 'w-full bg-gray-100 rounded border border-gray-300 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 text-base outline-none text-gray-700 py-2 px-4 leading-8 transition-colors duration-200 ease-in-out', accept: 'image/*' %>
          <%= form.hidden_field :avatar_cache %>
        </div>
      </div>
      <div class="actions flex justify-center mb-6">
        <%= form.submit '設定', class: 'text-white bg-indigo-500 border-0 py-2 px-6 focus:outline-none hover:bg-indigo-600 rounded text-lg' %>
      </div>
      <div class="hidden fixed left-0 top-0 h-full w-full bg-gray-400/50 z-10" id="modalSelf">
        <div class="modal-content bg-[#f4f4f4] my-[15%] mx-auto w-[500px] shadow-[0_2px_7px_rgba(0,0,0)]">
          <div class="modal-body py-[15px] px-[25px] flex-col text-center">
            <p>AIによるコメントを生成中...</p>
            <div class="animate-spin h-8 w-8 bg-blue-300 rounded-xl mx-auto mt-4"></div>
          </div>
        </div>
      </div>
    <% end %>
    <div class='text-center'>
      <%= link_to "マイページに戻る", mypage_path, class: 'text-gray-700 decoration-2 underline-offset-4 transition-colors hover:underline' %>
    </div>
  </div>
</div>